// <define:DATA>
var define_DATA_default = { bookmarklet: `javascript:((()=>{var b={javascript:"javascript",js:"javascript",clojure:"clojure",clj:"clojure",clojurescript:"clojurescript",cljs:"clojurescript",python:"python",ios:"ios",video:"video",books:"book",book:"book"},w={"gist.github.com/([^/]+)/([^/]+)":"repo","github.com/([^/]+)/([^/]+)":"repo","github.com/([^/]+)$":"person","twitter.com/([^/]+)/status/.*$":"comment","twitter.com/([^/]+)$":"person","medium.com/([^/]+)$":"blog","medium.com/([^/]+)/.*":"blog-posting","stackoverflow.com/questions/\\\\d+/[^/]+/\\\\d+":"answer","stackoverflow.com/questions/\\\\d+/[^/]+/?$":"question","nytimes.com":"article","washingtonpost.com":"article","youtube.com/watch":"video","vimeo.com/\\\\d+":"video","imdb.com/title":"movie","imdb.com/name":"person","news.ycombinator.com/item":"comment","reddit.com":"comment","blog.":"blog","schema.org/\\\\S+":"type","goodreads.com/book/show/":"book"},y={"github.com":".entry-title .js-current-repository"},T={"www.kickstarter.com":".short-blurb"},d=1e3,p=function(t){return t.toLowerCase()},m=function(t){return t?t.textContent.trim().replace(/\\s+/g," "):null},E=p(document.title),R=function(t){return t?E.indexOf(p(t))!==-1:!1},f=function(t,o,e){e=e||window;let n=t.length,i;for(let s=0;s<n;++s)if(i=o.call(e,t[s]),i!==null)return i;return null},I=function(){let t=location.href,o=location.hostname,e;if(o in y&&(e=document.querySelector(y[o]),e))return m(e);let n=document.title;if(e=document.querySelector("meta[property='og:title']"),e&&(n=e.content.trim().replace(/\\s+/g," ")),f(document.getElementsByClassName("hentry"),function(){return!0})){let c=document.querySelector(".hentry .entry-title");if(c)return m(c)}var i=f(document.getElementsByTagName("A"),function(c){return c.href===t&&(i=m(c),R(i))?i:null});if(i)return i;let s=["h1","h2","h3","h4","h5","h6"],u;for(let c=0;c<s.length;++c)f(document.getElementsByTagName(s[c]),function(x){let g=m(x);return R(g)&&(!u||g.length>u.length)&&(u=g),null});return u||n},q=function(t){t=p(t);let o=[],e;for(let n in b)e=n instanceof RegExp?n:new RegExp("\\\\b"+n+"\\\\b","i"),e.test(t)&&o.push(b[n]);return o},C=function(t){t=p(t);let o;for(let e in w)if(o=e instanceof RegExp?e:new RegExp("\\\\b"+e+"\\\\b","i"),o.test(t))return[w[e]];return[]},U=function(){let t;return t=document.querySelector("meta[name='description']"),t?t.content.trim().replace(/\\s+/g," "):(t=document.querySelector("meta[property='og:description']"),t?t.content.trim().replace(/\\s+/g," "):"")},S=function(){let t;t=String(document.getSelection());let o=location.hostname,e;return o in T&&(e=document.querySelector(T[o]),e)?m(e):(t||(t=U()),t)},v=location.href,l=I(),r=S(),h=r.indexOf(l);h===0?r=r.substring(l.length).trim():h===r.length-l.length&&(r=r.substring(0,h).trim());var k=q(document.title+" "+r+" "+U()),$=C(location.href);Array.prototype.push.apply(k,$);d>0&&(l=l.substring(0,d),r=r.substring(0,d));var A=["url=",encodeURIComponent(v),"&title=",encodeURIComponent(l),"&description=",encodeURIComponent(r),"&tags=",encodeURIComponent(k.join(" "))],j={"github.com/([^/]+)/([^/]+)":function(t){return{url:"https://github.com/"+t[1],title:t[1],tags:["person"]}},"medium.com/([^/]+)/.*":function(t){return{url:"https://medium.com/"+t[1],title:t[1].slice(1)+" blog",tags:["blog"]}},"twitter.com/([^/]+)/status/.*$":function(t){return{url:"https://twitter.com/"+t[1],title:t[1],tags:["person"]}}},L=function(t){t=p(t);let o,e;for(let n in j)if(o=n instanceof RegExp?n:new RegExp("\\\\b"+n+"\\\\b","i"),e=t.match(o))return j[n](e);return null},a=L(location.href);{let t=open("http://\${TARGET_URL}/add?"+A.join(""),"\${WINDOW_TITLE}","toolbar=no,width=610,height=350");if(a){let o=["url=",encodeURIComponent(a.url),"&title=",encodeURIComponent(a.title),"&description=",encodeURIComponent(a.description||""),"&tags=",encodeURIComponent(a.tags.join(" "))];open("http://\${TARGET_URL}/add?"+o.join(""),"\${WINDOW_TITLE} 2","toolbar=no,width=610,height=350")}}})();)` };

// wrapper.js
function getBookmarklet(vars = {}) {
  let { bookmarklet } = define_DATA_default;
  for (const [key, value] of Object.entries(vars)) {
    bookmarklet = bookmarklet.replaceAll(key, value);
  }
  return bookmarklet;
}
export {
  getBookmarklet as default
};
//# sourceMappingURL=out.js.map
